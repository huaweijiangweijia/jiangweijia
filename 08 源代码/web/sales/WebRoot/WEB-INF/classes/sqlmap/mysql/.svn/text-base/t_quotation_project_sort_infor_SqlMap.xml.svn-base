<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="t_quotation_project_sort_infor">
  <resultMap class="com.tl.resource.dao.pojo.TQuotationProjectSortInfor" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    <result column="id" jdbcType="VARCHAR" property="id" />
    <result column="quotation_infor_id" jdbcType="VARCHAR" property="quotationInforId" />
    <result column="serial_number" jdbcType="DECIMAL" property="serialNumber" />
    <result column="pro_sort_name" jdbcType="VARCHAR" property="proSortName" />
    <result column="supplier_name" jdbcType="VARCHAR" property="supplierName" />
    <result column="support_amount" jdbcType="DECIMAL" property="supportAmount" />
    <result column="backup_amount" jdbcType="DECIMAL" property="backupAmount" />
    <result column="total_money" jdbcType="DECIMAL" property="totalMoney" />
    <result column="value_added_tax" jdbcType="DECIMAL" property="valueAddedTax" />
    <result column="total_tax_money" jdbcType="DECIMAL" property="totalTaxMoney" />
    <result column="memo" jdbcType="VARCHAR" property="memo" />
    <result column="machine_model" jdbcType="VARCHAR" property="machineModel" />
    <result column="machine_count" jdbcType="INTEGER" property="machineCount" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  
  
    <!-- 根据条件查询工单信息 -->
  <select id="getWorkOrderList" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
    <![CDATA[
       select id, quotation_infor_id, serial_number, pro_sort_name, supplier_name, support_amount,
     		 backup_amount, total_money, value_added_tax, total_tax_money, memo,machine_model,machine_count
   	 		 from t_quotation_project_sort_infor t
    ]]>
    <dynamic prepend="where">
      <isNotEmpty prepend="and" property="quotation_infor_id">
        t.quotation_infor_id=#quotation_infor_id#
      </isNotEmpty>
    </dynamic>
  </select>
  
  
   <!-- 根据条件查询工单信息 -->
  <select id="getSPSIList" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
       select id, quotation_infor_id, serial_number, pro_sort_name, supplier_name, support_amount,
     		 backup_amount, total_money, value_added_tax, total_tax_money, memo,machine_model,machine_count
   	 		 from t_quotation_project_sort_infor t
        where t.quotation_infor_id =(select q.id from t_quotation_infor q where q.quotation_code = '$quotationCode$')
  </select>
  
  
  <!--  根据报价单ID删除其对应的工单 --> 
  <delete id="deleteProByQuoID" parameterClass="java.lang.String" >
    
    delete from t_quotation_project_sort_infor  where  quotation_infor_id = #value#
   
  </delete>
  
   <select id="ibatorgenerated_selectByExample" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInforExample" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    select id, quotation_infor_id, serial_number, pro_sort_name, supplier_name, support_amount,
      backup_amount, total_money, value_added_tax, total_tax_money, memo, machine_model,
      machine_count
    from t_quotation_project_sort_infor
    <isParameterPresent>
      <include refid="t_quotation_project_sort_infor.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInfor" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    select id, quotation_infor_id, serial_number, pro_sort_name, supplier_name, support_amount,
      backup_amount, total_money, value_added_tax, total_tax_money, memo, machine_model,
      machine_count
    from t_quotation_project_sort_infor
    where id = #id:VARCHAR#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    delete from t_quotation_project_sort_infor
    where id = #id:VARCHAR#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInforExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    delete from t_quotation_project_sort_infor
    <include refid="t_quotation_project_sort_infor.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    insert into t_quotation_project_sort_infor (id, quotation_infor_id, serial_number,
      pro_sort_name, supplier_name, support_amount, backup_amount, total_money, value_added_tax,
      total_tax_money, memo, machine_model, machine_count)
    values (#id:VARCHAR#, #quotationInforId:VARCHAR#, #serialNumber:DECIMAL#, #proSortName:VARCHAR#,
      #supplierName:VARCHAR#, #supportAmount:DECIMAL#, #backupAmount:DECIMAL#, #totalMoney:DECIMAL#,
      #valueAddedTax:DECIMAL#, #totalTaxMoney:DECIMAL#, #memo:VARCHAR#, #machineModel:VARCHAR#,
      #machineCount:INTEGER#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    insert into t_quotation_project_sort_infor
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        id
      </isNotNull>
      <isNotNull prepend="," property="quotationInforId">
        quotation_infor_id
      </isNotNull>
      <isNotNull prepend="," property="serialNumber">
        serial_number
      </isNotNull>
      <isNotNull prepend="," property="proSortName">
        pro_sort_name
      </isNotNull>
      <isNotNull prepend="," property="supplierName">
        supplier_name
      </isNotNull>
      <isNotNull prepend="," property="supportAmount">
        support_amount
      </isNotNull>
      <isNotNull prepend="," property="backupAmount">
        backup_amount
      </isNotNull>
      <isNotNull prepend="," property="totalMoney">
        total_money
      </isNotNull>
      <isNotNull prepend="," property="valueAddedTax">
        value_added_tax
      </isNotNull>
      <isNotNull prepend="," property="totalTaxMoney">
        total_tax_money
      </isNotNull>
      <isNotNull prepend="," property="memo">
        memo
      </isNotNull>
      <isNotNull prepend="," property="machineModel">
        machine_model
      </isNotNull>
      <isNotNull prepend="," property="machineCount">
        machine_count
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        #id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="quotationInforId">
        #quotationInforId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="serialNumber">
        #serialNumber:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="proSortName">
        #proSortName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierName">
        #supplierName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supportAmount">
        #supportAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="backupAmount">
        #backupAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="totalMoney">
        #totalMoney:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="valueAddedTax">
        #valueAddedTax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="totalTaxMoney">
        #totalTaxMoney:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="memo">
        #memo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="machineModel">
        #machineModel:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="machineCount">
        #machineCount:INTEGER#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInforExample" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    select count(*) from t_quotation_project_sort_infor
    <include refid="t_quotation_project_sort_infor.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    update t_quotation_project_sort_infor
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.id">
        id = #record.id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.quotationInforId">
        quotation_infor_id = #record.quotationInforId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.serialNumber">
        serial_number = #record.serialNumber:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.proSortName">
        pro_sort_name = #record.proSortName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.supplierName">
        supplier_name = #record.supplierName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.supportAmount">
        support_amount = #record.supportAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.backupAmount">
        backup_amount = #record.backupAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.totalMoney">
        total_money = #record.totalMoney:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.valueAddedTax">
        value_added_tax = #record.valueAddedTax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.totalTaxMoney">
        total_tax_money = #record.totalTaxMoney:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.memo">
        memo = #record.memo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.machineModel">
        machine_model = #record.machineModel:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.machineCount">
        machine_count = #record.machineCount:INTEGER#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="t_quotation_project_sort_infor.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    update t_quotation_project_sort_infor
    set id = #record.id:VARCHAR#,
      quotation_infor_id = #record.quotationInforId:VARCHAR#,
      serial_number = #record.serialNumber:DECIMAL#,
      pro_sort_name = #record.proSortName:VARCHAR#,
      supplier_name = #record.supplierName:VARCHAR#,
      support_amount = #record.supportAmount:DECIMAL#,
      backup_amount = #record.backupAmount:DECIMAL#,
      total_money = #record.totalMoney:DECIMAL#,
      value_added_tax = #record.valueAddedTax:DECIMAL#,
      total_tax_money = #record.totalTaxMoney:DECIMAL#,
      memo = #record.memo:VARCHAR#,
      machine_model = #record.machineModel:VARCHAR#,
      machine_count = #record.machineCount:INTEGER#
    <isParameterPresent>
      <include refid="t_quotation_project_sort_infor.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    update t_quotation_project_sort_infor
    <dynamic prepend="set">
      <isNotNull prepend="," property="quotationInforId">
        quotation_infor_id = #quotationInforId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="serialNumber">
        serial_number = #serialNumber:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="proSortName">
        pro_sort_name = #proSortName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierName">
        supplier_name = #supplierName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supportAmount">
        support_amount = #supportAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="backupAmount">
        backup_amount = #backupAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="totalMoney">
        total_money = #totalMoney:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="valueAddedTax">
        value_added_tax = #valueAddedTax:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="totalTaxMoney">
        total_tax_money = #totalTaxMoney:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="memo">
        memo = #memo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="machineModel">
        machine_model = #machineModel:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="machineCount">
        machine_count = #machineCount:INTEGER#
      </isNotNull>
    </dynamic>
    where id = #id:VARCHAR#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.tl.resource.dao.pojo.TQuotationProjectSortInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jan 12 09:48:33 CST 2010.
    -->
    update t_quotation_project_sort_infor
    set quotation_infor_id = #quotationInforId:VARCHAR#,
      serial_number = #serialNumber:DECIMAL#,
      pro_sort_name = #proSortName:VARCHAR#,
      supplier_name = #supplierName:VARCHAR#,
      support_amount = #supportAmount:DECIMAL#,
      backup_amount = #backupAmount:DECIMAL#,
      total_money = #totalMoney:DECIMAL#,
      value_added_tax = #valueAddedTax:DECIMAL#,
      total_tax_money = #totalTaxMoney:DECIMAL#,
      memo = #memo:VARCHAR#,
      machine_model = #machineModel:VARCHAR#,
      machine_count = #machineCount:INTEGER#
    where id = #id:VARCHAR#
  </update>
</sqlMap>
  
  