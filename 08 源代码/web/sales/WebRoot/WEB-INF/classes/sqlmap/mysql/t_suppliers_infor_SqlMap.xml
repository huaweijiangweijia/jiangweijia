<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="t_suppliers_infor">
  <resultMap class="com.tl.resource.dao.pojo.TSuppliersInfor" id="ibatorgenerated_BaseResultMap">
    <result column="id" jdbcType="VARCHAR" property="id" />
    <result column="supplier_code" jdbcType="VARCHAR" property="supplierCode" />
    <result column="supplier_name" jdbcType="VARCHAR" property="supplierName" />
    <result column="supplier_short_name" jdbcType="VARCHAR" property="supplierShortName" />
    <result column="contact_person_first" jdbcType="VARCHAR" property="contactPersonFirst" />
    <result column="phone_first" jdbcType="VARCHAR" property="phoneFirst" />
    <result column="fax_first" jdbcType="VARCHAR" property="faxFirst" />
    <result column="contact_person_sec" jdbcType="VARCHAR" property="contactPersonSec" />
    <result column="phone_sec" jdbcType="VARCHAR" property="phoneSec" />
    <result column="fax_sec" jdbcType="VARCHAR" property="faxSec" />
    <result column="brand_first" jdbcType="VARCHAR" property="brandFirst" />
    <result column="brand_sec" jdbcType="VARCHAR" property="brandSec" />
    <result column="brand_third" jdbcType="VARCHAR" property="brandThird" />
    <result column="brand_fourth" jdbcType="VARCHAR" property="brandFourth" />
    <result column="contract_address" jdbcType="VARCHAR" property="contractAddress" />
    <result column="postcode" jdbcType="VARCHAR" property="postcode" />
    <result column="com_adress" jdbcType="VARCHAR" property="comAdress" />
    <result column="bank" jdbcType="VARCHAR" property="bank" />
    <result column="account_number" jdbcType="VARCHAR" property="accountNumber" />
    <result column="home_page" jdbcType="VARCHAR" property="homePage" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="memo" jdbcType="VARCHAR" property="memo" />
    <result column="tax_code" jdbcType="VARCHAR" property="taxCode" />
    
    <result column="own_contact_person_id" jdbcType="VARCHAR" property="ownContactPersonId" />
    <result column="own_contact_person" jdbcType="VARCHAR" property="ownContactPerson" />
    <result column="level" jdbcType="INTEGER" property="level" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" parameterClass="com.tl.resource.dao.pojo.TSuppliersInforExample" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    select id, supplier_code, supplier_name, supplier_short_name, contact_person_first, phone_first,
      fax_first, contact_person_sec, phone_sec, fax_sec, brand_first, brand_sec, brand_third,
      brand_fourth, contract_address, postcode, com_adress, bank, account_number, home_page, email,
      memo,tax_code,own_contact_person_id,own_contact_person,level
    from t_suppliers_infor
    <isParameterPresent>
      <include refid="t_suppliers_infor.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="com.tl.resource.dao.pojo.TSuppliersInfor" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    select id, supplier_code, supplier_name, supplier_short_name, contact_person_first, phone_first,
      fax_first, contact_person_sec, phone_sec, fax_sec, brand_first, brand_sec, brand_third,
      brand_fourth, contract_address, postcode, com_adress, bank, account_number, home_page, email,
      memo,tax_code,own_contact_person_id,own_contact_person,level
    from t_suppliers_infor
    where id = #id:VARCHAR#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.tl.resource.dao.pojo.TSuppliersInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    delete from t_suppliers_infor
    where id = #id:VARCHAR#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.tl.resource.dao.pojo.TSuppliersInforExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    delete from t_suppliers_infor
    <include refid="t_suppliers_infor.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.tl.resource.dao.pojo.TSuppliersInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    insert into t_suppliers_infor (id, supplier_code, supplier_name, supplier_short_name,
      contact_person_first, phone_first, fax_first, contact_person_sec, phone_sec, fax_sec,
      brand_first, brand_sec, brand_third, brand_fourth, contract_address, postcode, com_adress,
      bank, account_number, home_page, email, memo,tax_code,own_contact_person_id,own_contact_person,level)
    values (#id:VARCHAR#, #supplierCode:VARCHAR#, #supplierName:VARCHAR#,
      #supplierShortName:VARCHAR#, #contactPersonFirst:VARCHAR#, #phoneFirst:VARCHAR#,
      #faxFirst:VARCHAR#, #contactPersonSec:VARCHAR#, #phoneSec:VARCHAR#, #faxSec:VARCHAR#,
      #brandFirst:VARCHAR#, #brandSec:VARCHAR#, #brandThird:VARCHAR#, #brandFourth:VARCHAR#,
      #contractAddress:VARCHAR#, #postcode:VARCHAR#, #comAdress:VARCHAR#, #bank:VARCHAR#,
      #accountNumber:VARCHAR#, #homePage:VARCHAR#, #email:VARCHAR#, #memo:VARCHAR#, #taxCode:VARCHAR#, #ownContactPersonId:VARCHAR#,#ownContactPerson:VARCHAR#, #level:INTEGER#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.tl.resource.dao.pojo.TSuppliersInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    insert into t_suppliers_infor
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        id
      </isNotNull>
      <isNotNull prepend="," property="supplierCode">
        supplier_code
      </isNotNull>
      <isNotNull prepend="," property="supplierName">
        supplier_name
      </isNotNull>
      <isNotNull prepend="," property="supplierShortName">
        supplier_short_name
      </isNotNull>
      <isNotNull prepend="," property="contactPersonFirst">
        contact_person_first
      </isNotNull>
      <isNotNull prepend="," property="phoneFirst">
        phone_first
      </isNotNull>
      <isNotNull prepend="," property="faxFirst">
        fax_first
      </isNotNull>
      <isNotNull prepend="," property="contactPersonSec">
        contact_person_sec
      </isNotNull>
      <isNotNull prepend="," property="phoneSec">
        phone_sec
      </isNotNull>
      <isNotNull prepend="," property="faxSec">
        fax_sec
      </isNotNull>
      <isNotNull prepend="," property="brandFirst">
        brand_first
      </isNotNull>
      <isNotNull prepend="," property="brandSec">
        brand_sec
      </isNotNull>
      <isNotNull prepend="," property="brandThird">
        brand_third
      </isNotNull>
      <isNotNull prepend="," property="brandFourth">
        brand_fourth
      </isNotNull>
      <isNotNull prepend="," property="contractAddress">
        contract_address
      </isNotNull>
      <isNotNull prepend="," property="postcode">
        postcode
      </isNotNull>
      <isNotNull prepend="," property="comAdress">
        com_adress
      </isNotNull>
      <isNotNull prepend="," property="bank">
        bank
      </isNotNull>
      <isNotNull prepend="," property="accountNumber">
        account_number
      </isNotNull>
      <isNotNull prepend="," property="homePage">
        home_page
      </isNotNull>
      <isNotNull prepend="," property="email">
        email
      </isNotNull>
      <isNotNull prepend="," property="memo">
        memo
      </isNotNull>
      <isNotNull prepend="," property="taxCode">
        tax_code
      </isNotNull>
       <isNotNull prepend="," property="ownContactPersonId">
        own_contact_person_id
      </isNotNull>
       <isNotNull prepend="," property="ownContactPerson">
        own_contact_person
      </isNotNull>
      <isNotNull prepend="," property="level">
        level
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="id">
        #id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierCode">
        #supplierCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierName">
        #supplierName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierShortName">
        #supplierShortName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contactPersonFirst">
        #contactPersonFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="phoneFirst">
        #phoneFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="faxFirst">
        #faxFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contactPersonSec">
        #contactPersonSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="phoneSec">
        #phoneSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="faxSec">
        #faxSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandFirst">
        #brandFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandSec">
        #brandSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandThird">
        #brandThird:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandFourth">
        #brandFourth:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contractAddress">
        #contractAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="postcode">
        #postcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comAdress">
        #comAdress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bank">
        #bank:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="accountNumber">
        #accountNumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="homePage">
        #homePage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="email">
        #email:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="memo">
        #memo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="taxCode">
        #taxCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ownContactPersonId">
        #own_contact_person_id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ownContactPerson">
        #own_contact_person:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="level">
        #level:INTEGER#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.tl.resource.dao.pojo.TSuppliersInforExample" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    select count(*) from t_suppliers_infor
    <include refid="t_suppliers_infor.ibatorgenerated_Example_Where_Clause" />
  </select>
  <!-- 供应商总数 -->
  <select id="getSuppliersTotal" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    select count(*) from t_suppliers_infor t left join t_suppliers_brand tb on t.id = tb.t_suppliers_id
      <dynamic prepend="where">
      	<isNotEmpty prepend="and" property="supplierCode">
			t.supplier_code like '%$supplierCode$%'
		</isNotEmpty>
		<isNotEmpty prepend="and" property="supplierName">
			t.supplier_name like '%$supplierName$%'
		</isNotEmpty> 
		<isNotEmpty prepend="and" property="contactPerson">
			t.contact_person_first like '%$contactPerson$%' or 	t.contact_person_sec like '%$contactPerson$%'
		</isNotEmpty> 
		<isNotEmpty prepend="and" property="brand">
			tb.brand like '%$brand$%'
		</isNotEmpty> 
      </dynamic>
  </select>
  <!-- 根据条件获取供应商信息  -->
  <select id="getSuppliersByPage" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap" >
  	select t.* from t_suppliers_infor t left join t_suppliers_brand tb on t.id = tb.t_suppliers_id
  	  <dynamic prepend="where">
      	<isNotEmpty prepend="and" property="supplierCode">
			t.supplier_code like '%$supplierCode$%'
		</isNotEmpty>
		<isNotEmpty prepend="and" property="supplierName">
			t.supplier_name like '%$supplierName$%'
		</isNotEmpty> 
		<isNotEmpty prepend="and" property="contactPerson">
			t.contact_person_first like '%$contactPerson$%' or 	t.contact_person_sec like '%$contactPerson$%'
		</isNotEmpty> 
		<isNotEmpty prepend="and" property="brand">
			tb.brand like '%$brand$%'
		</isNotEmpty> 
  	  </dynamic>
      <isNotEmpty property="sort" >
        <![CDATA[
            order by $sort$ $dir$
          ]]>
      </isNotEmpty>
  	limit #start#,#limit#
  </select>
  
   <!-- 根据供应商名称获取供应商信息  -->
  <select id="getAllSupplierListBySupplierName" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap" >
  	select * from t_suppliers_infor t 
  	  <dynamic prepend="where">
		<isNotEmpty prepend="and" property="supplierName">
			t.supplier_name like '%$supplierName$%'
		</isNotEmpty> 
      </dynamic>
  </select>
  
  
  
  
  <update id="ibatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    update t_suppliers_infor
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.id">
        id = #record.id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.supplierCode">
        supplier_code = #record.supplierCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.supplierName">
        supplier_name = #record.supplierName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.supplierShortName">
        supplier_short_name = #record.supplierShortName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.contactPersonFirst">
        contact_person_first = #record.contactPersonFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.phoneFirst">
        phone_first = #record.phoneFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.faxFirst">
        fax_first = #record.faxFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.contactPersonSec">
        contact_person_sec = #record.contactPersonSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.phoneSec">
        phone_sec = #record.phoneSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.faxSec">
        fax_sec = #record.faxSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.brandFirst">
        brand_first = #record.brandFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.brandSec">
        brand_sec = #record.brandSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.brandThird">
        brand_third = #record.brandThird:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.brandFourth">
        brand_fourth = #record.brandFourth:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.contractAddress">
        contract_address = #record.contractAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.postcode">
        postcode = #record.postcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.comAdress">
        com_adress = #record.comAdress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.bank">
        bank = #record.bank:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.accountNumber">
        account_number = #record.accountNumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.homePage">
        home_page = #record.homePage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.email">
        email = #record.email:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.memo">
        memo = #record.memo:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="record.taxCode">
        tax_code = #record.taxCode:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="record.ownContactPersonId">
        own_contact_person_id = #record.ownContactPersonId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.ownContactPerson">
        own_contact_person = #record.ownContactPerson:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="record.level">
        level = #record.level:INTEGER#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="t_suppliers_infor.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    update t_suppliers_infor
    set id = #record.id:VARCHAR#,
      supplier_code = #record.supplierCode:VARCHAR#,
      supplier_name = #record.supplierName:VARCHAR#,
      supplier_short_name = #record.supplierShortName:VARCHAR#,
      contact_person_first = #record.contactPersonFirst:VARCHAR#,
      phone_first = #record.phoneFirst:VARCHAR#,
      fax_first = #record.faxFirst:VARCHAR#,
      contact_person_sec = #record.contactPersonSec:VARCHAR#,
      phone_sec = #record.phoneSec:VARCHAR#,
      fax_sec = #record.faxSec:VARCHAR#,
      brand_first = #record.brandFirst:VARCHAR#,
      brand_sec = #record.brandSec:VARCHAR#,
      brand_third = #record.brandThird:VARCHAR#,
      brand_fourth = #record.brandFourth:VARCHAR#,
      contract_address = #record.contractAddress:VARCHAR#,
      postcode = #record.postcode:VARCHAR#,
      com_adress = #record.comAdress:VARCHAR#,
      bank = #record.bank:VARCHAR#,
      account_number = #record.accountNumber:VARCHAR#,
      home_page = #record.homePage:VARCHAR#,
      email = #record.email:VARCHAR#,
      memo = #record.memo:VARCHAR#,
      tax_code = #record.taxCode:VARCHAR#,
      own_contact_person = #record.ownContactPerson:VARCHAR#,
      own_contact_person_id = #record.ownContactPersonId:VARCHAR#,
      level = #record.level:INTEGER#
      
    <isParameterPresent>
      <include refid="t_suppliers_infor.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.tl.resource.dao.pojo.TSuppliersInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    update t_suppliers_infor
    <dynamic prepend="set">
      <isNotNull prepend="," property="supplierCode">
        supplier_code = #supplierCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierName">
        supplier_name = #supplierName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplierShortName">
        supplier_short_name = #supplierShortName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contactPersonFirst">
        contact_person_first = #contactPersonFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="phoneFirst">
        phone_first = #phoneFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="faxFirst">
        fax_first = #faxFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contactPersonSec">
        contact_person_sec = #contactPersonSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="phoneSec">
        phone_sec = #phoneSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="faxSec">
        fax_sec = #faxSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandFirst">
        brand_first = #brandFirst:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandSec">
        brand_sec = #brandSec:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandThird">
        brand_third = #brandThird:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="brandFourth">
        brand_fourth = #brandFourth:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contractAddress">
        contract_address = #contractAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="postcode">
        postcode = #postcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comAdress">
        com_adress = #comAdress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bank">
        bank = #bank:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="accountNumber">
        account_number = #accountNumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="homePage">
        home_page = #homePage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="email">
        email = #email:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="memo">
        memo = #memo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="taxCode">
        tax_code = #taxCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ownContactPersonId">
        own_contact_person_id = #ownContactPersonId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ownContactPerson">
        own_contact_person = #ownContactPerson:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="level">
        level = #level:INTEGER#
      </isNotNull>
    </dynamic>
    where id = #id:VARCHAR#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.tl.resource.dao.pojo.TSuppliersInfor">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Oct 14 14:13:27 CST 2009.
    -->
    update t_suppliers_infor
    set supplier_code = #supplierCode:VARCHAR#,
      supplier_name = #supplierName:VARCHAR#,
      supplier_short_name = #supplierShortName:VARCHAR#,
      contact_person_first = #contactPersonFirst:VARCHAR#,
      phone_first = #phoneFirst:VARCHAR#,
      fax_first = #faxFirst:VARCHAR#,
      contact_person_sec = #contactPersonSec:VARCHAR#,
      phone_sec = #phoneSec:VARCHAR#,
      fax_sec = #faxSec:VARCHAR#,
      brand_first = #brandFirst:VARCHAR#,
      brand_sec = #brandSec:VARCHAR#,
      brand_third = #brandThird:VARCHAR#,
      brand_fourth = #brandFourth:VARCHAR#,
      contract_address = #contractAddress:VARCHAR#,
      postcode = #postcode:VARCHAR#,
      com_adress = #comAdress:VARCHAR#,
      bank = #bank:VARCHAR#,
      account_number = #accountNumber:VARCHAR#,
      home_page = #homePage:VARCHAR#,
      email = #email:VARCHAR#,
      memo = #memo:VARCHAR#
      tax_code = #taxCode:VARCHAR#,
       own_contact_person_id = #ownContactPersonId:VARCHAR#,
      own_contact_person = #ownContactPerson:VARCHAR#,
      level = #level:INTEGER#
    where id = #id:VARCHAR#
  </update>
  
  <!-- 根据品牌查询供应商 -->
  <select id="getSupplierList" parameterClass="java.util.Map" resultClass="java.util.List" resultMap="ibatorgenerated_BaseResultMap">
   select distinct s.* from t_contract_product_detail d ,t_suppliers_brand b ,t_suppliers_infor s 
	where d.contract_infor_id = '$contractId$'
	and b.t_suppliers_id = s.id
	and d.parent_tools_id = 'root'
	and d.leaf = #leaf#
	and d.product_brand = b.brand 
	<isNotEmpty prepend="and" property="supplierCode">
			s.supplier_code like '%$supplierCode$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="supplierName">
			s.supplier_name like '%$supplierName$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="contactPerson">
			s.contact_person_first like '%$contactPerson$%' or 	s.contact_person_sec like '%$contactPerson$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="brand">
			b.brand like '%$brand$%'
	</isNotEmpty> 
	limit $startIndex$,$pageSize$
  </select>
  
   <select id="getSupplierListCount" parameterClass="java.util.Map" resultClass="java.lang.Integer">
  	select  count(distinct s.id) from t_contract_product_detail d ,t_suppliers_brand b ,t_suppliers_infor s   
	where d.contract_infor_id = '$contractId$'  
	and b.t_suppliers_id = s.id  
	and d.parent_tools_id = 'root'
	and d.leaf = #leaf#
	and d.product_brand = b.brand
	<isNotEmpty prepend="and" property="supplierCode">
			s.supplier_code like '%$supplierCode$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="supplierName">
			s.supplier_name like '%$supplierCode$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="contactPerson">
			s.contact_person_first like '%$contactPerson$%' or 	s.contact_person_sec like '%$contactPerson$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="brand">
			s.brand_first like '%$brand$%' or s.brand_sec like '%$brand$%' or s.brand_third like '%$brand$%' or s.brand_fourth like '%$brand$%'
	</isNotEmpty> 
  </select>
  
    <!-- 根据报价单ID查找供应商 -->
  <select id="getSupplierListByQid" parameterClass="java.util.Map" resultClass="java.util.List" resultMap="ibatorgenerated_BaseResultMap">
   select distinct s.* from t_quotation_product_detail d ,t_suppliers_brand b ,t_suppliers_infor s 
	where d.quotation_infor_id = '$qId$'
	and d.parent_tools_id = 'root'
	and d.leaf = #leaf#
	and b.t_suppliers_id = s.id
	
	and d.product_brand = b.brand 
	<isNotEmpty prepend="and" property="supplierCode">
			s.supplier_code like '%$supplierCode$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="supplierName">
			s.supplier_name like '%$supplierName$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="contactPerson">
			s.contact_person_first like '%$contactPerson$%' or 	s.contact_person_sec like '%$contactPerson$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="brand">
			b.brand like '%$brand$%'
	</isNotEmpty> 
	limit $startIndex$,$pageSize$
  </select>
  
   <!-- 根据报价单ID查找供应商数量 -->
  <select id="getSupplierListCountByQid" parameterClass="java.util.Map" resultClass="java.lang.Integer">
 select  count(distinct s.id) from t_quotation_product_detail d ,t_suppliers_brand b ,t_suppliers_infor s   
	where d.quotation_infor_id = '$qId$' 
	and d.parent_tools_id = 'root'
	and d.leaf = #leaf#
	 and b.t_suppliers_id = s.id  
	 and d.product_brand = b.brand
	<isNotEmpty prepend="and" property="supplierCode">
			s.supplier_code like '%$supplierCode$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="supplierName">
			s.supplier_name like '%$supplierName$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="contactPerson">
			s.contact_person_first like '%$contactPerson$%' or 	s.contact_person_sec like '%$contactPerson$%'
	</isNotEmpty> 
	<isNotEmpty prepend="and" property="brand">
			b.brand like '%$brand$%'
	</isNotEmpty> 
  </select>
  
</sqlMap>